<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Cincinnati’s Riverfront Renaissance: Tracking Population Growth and Development from 1990 to 2020</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
    integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
  <!-- Bulma Version 1-->
  <link rel="stylesheet" href="https://unpkg.com/bulma@1.0.2/css/bulma.min.css" />
  <!-- Change to latest Mapbox gl js -->
  <script src="https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.js"></script>
  <link href="https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.css" rel="stylesheet">
  <!-- Text generated by (or adapted from) ChatGPT, March 15, 2025, OpenAI, https://chat.openai.com -->
  <style>
    /* Check out bulma's classed for elements, so you don't have to edit much CSS */
    :root {
      --bulma-font-family: 'Open Sans', sans-serif;
    }

    .hero {
      background-color: #2c2b2b !important;
    }

    #map {
      max-width: 100%;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }

    #slider-container {
      position: absolute;
      top: 30%;
      left: 10%;
      background: #C6011F;
      padding: 10px;
      border-radius: 5px;
      font-family: Arial, sans-serif;
      z-index: 10;
    }

    .title-container {
      text-align: center;
      margin-top: 20px;
      background: #C6011F;
      color: #FFFFFF
    }

    .title-container h1 {
      font-size: 2rem;
      font-weight: bold;
    }

    .navbar {
      background-color: #2c2b2b !important;
    }

    .navbar-burger {
      background-color: #2c2b2b;
      border-radius: 4px;
      padding: 10px;
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      margin-right: 10px;
      /* space from edge */
    }

    .navbar-burger:hover {
      background-color: #C6011F;
      box-shadow: 0 0 10px #2c2b2b;
    }

    .navbar-burger span {
      background-color: white !important;
    }

    .navbar-menu {
      background-color: #2c2b2b !important;
    }

    /* popups */

    .mapboxgl-popup {
      font-family: "Open Sans", sans-serif;
      /* Change to any font you prefer */
    }

    .popup-button {
      display: inline-block;
      padding: 10px 15px;
      background-color: #C6011F;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      font-weight: bold;
      margin: 10px 0;
    }

    .mapboxgl-popup-content

    /*Text generated by (or adapted from) ChatGPT, March 18, 2025, OpenAI, https://chat.openai.com */
      {
      /* color: var() */
      /* Change to any color you prefer */
      /* background-color: white; */
      background-color: #535151;
      /* Optional: makes it more readable */
      border: 2px solid var(--bulma-text);
      /* #C6011F; */
      padding: 12px;
      font-size: 1rem;
      width: 15vw;
      height: 30vh;
      min-width: 300px;
      min-height: 200px;
      max-width: 400px;
      max-height: 600px;
      overflow-y: auto;
      /* If content is long */
    }

    .mapboxgl-popup-content .subtitle {
      margin-bottom: 5px;
    }

    .mapboxgl-popup-content p {
      margin-bottom: 5px;
    }

    .mapboxgl-popup-tip {
      /* border-top-color: #232222 !important; */
      /* Change to any color you prefer */
    }

    .mapboxgl-popup-close-button

    /*Text generated by (or adapted from) ChatGPT, March 18, 2025, OpenAI, https://chat.openai.com */
      {
      font-size: 2rem;
      /* Increase size */
      /* color: black; */
      padding-right: 10px;
      /* Make it visible */
    }
  </style>
</head>

<body>
  <div id="splash" class="modal">
    <div class="modal-background"></div>
    <div class="modal-content">
      <!-- Any other Bulma elements you want -->

      <h1 class="title">Cincinnati’s Riverfront Renaissance!</h1>
      <p><a href="https://www.podbean.com/ew/pb-3b559-18564a2">I think the cool people started coming downtown because it's just right</a></p>
      <p><a href="https://www.podbean.com/eas/pb-jym4n-185c9a6">Downtown Cincinnati's Riverfront! Yeah, I know...right</a></p>
      <p><a href="https://www.podbean.com/ew/pb-yq47i-18679c4">Downtown Cincinnati, the area where cool people have a time</a></p>
      <p>Click the red buildings for popups.</p>
      <p>Use the slider to filter by year.</p>
      <p>Explore the map and enjoy!</p>

      <button class="modal-close is-large" aria-label="close"></button>
    </div>
  </div>
  <!-- Navigation bar -->
  <nav class="navbar is-link is-fixed-top">
    <div class="navbar-brand">
      <div class="navbar-burger burger" data-target="navbarExampleTransparentExample">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>

    <div id="navbarExampleTransparentExample" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item"
          href="https://github.com/CharlesAltendorf/cincy-riverfront-renaissance-1990-2020/blob/main/README.md">
          <span class="icon">
            <i class="fas fa-clipboard"></i>
          </span>
          <span>Project Info</span>
        </a>
        <a class="navbar-item" href="https://cincy-riverfront-renaissance.podbean.com/">
          <span class="icon">
            <i class="fas fa-podcast"></i>
          </span>
          <span>Interviews</span>
        </a>
        <a class="navbar-item" href="https://www.linkedin.com/in/charles-altendorf/">
          <span class="icon">
            <i class="fab fa-linkedin-in"></i>
          </span>
          <span>LinkedIn</span>
        </a>
        <a class="navbar-item" href="https://charlesaltendorf.github.io/">
          <span class="icon">
            <i class="fas fa-briefcase"></i>
          </span>
          <span>Portfolio</span>
        </a>
        <a class="navbar-item" href="https://newmapsplus.as.uky.edu/">
          <span class="icon">
            <i class="fas fa-map"></i>
          </span>
          <span>New Maps Plus</span>
        </a>
      </div>
    </div>
  </nav>

  <section class="section title-container">
    <h1>Cincinnati’s Riverfront Renaissance</h1>
    <h4>Click Red Buildings for Popups</h4>
  </section>

  <!-- Text generated by (or adapted from) ChatGPT, March 11, 2025, OpenAI, https://chat.openai.com -->
  <section class="hero is-link is-fullheight is-fullheight-with-navbar">
    <div class="hero-body">
      <div id="map"></div>
    </div>
    <div id="slider-container">
      <label for="year-slider">Year: <span id="year-label">2011</span></label>
      <input type="range" id="year-slider" min="2011" max="2024" step="1" value="2011">
    </div>

    </div>
  </section>

  <!-- Text generated by (or adapted from) ChatGPT, March 15, 2025, OpenAI, https://chat.openai.com -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Get all "navbar-burger" elements
      const navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

      // Check if there are any navbar burgers
      if (navbarBurgers.length > 0) {

        // Add a click event on each of them
        navbarBurgers.forEach(function (el) {
          el.addEventListener('click', function () {

            // Get the target from the "data-target" attribute
            const target = el.dataset.target;
            const targetElement = document.getElementById(target);

            // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
            el.classList.toggle('is-active');
            targetElement.classList.toggle('is-active');
          });
        });
      }
    });

    displayModalFirstVisit()

    //Text generated by (or adapted from) ChatGPT, March 28, 2025, OpenAI, https://chat.openai.com
    function displayModalFirstVisit() {
      const modal = document.querySelector('#splash');
      const background = document.querySelector('#splash .modal-background');
      const closeButton = document.querySelector('#splash .modal-close');

      if (!sessionStorage.getItem("visited_cincinnati")) {
        modal.classList.add('is-active');
    
        background.addEventListener('click', function () {
          modal.classList.remove('is-active');
          sessionStorage.setItem("visited_cincinnati", 'true');
        });

        closeButton.addEventListener('click', function () {
          modal.classList.remove('is-active');
          sessionStorage.setItem("visited_cincinnati", 'true');
        });
      }
    }

    mapboxgl.accessToken = 'pk.eyJ1IjoiY2hhcmxlc2FsdGVuZG9yZiIsImEiOiJjbGF6eDBodmwxY24yM3Bsbm41M24zeGFxIn0.Sf4kAiKT5mJkotGjkwID3Q';

    const map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/charlesaltendorf/cm7zpufuc009e01ry9nnnf7bf',
      center: [-84.5100, 39.1031], // Cincinnati coordinates
      zoom: 15,
      pitch: 75,  // 3D effect
      bearing: 0,
      antialias: true,
    });



    // Add zoom and rotation controls; Text generated by (or adapted from) ChatGPT, March 11, 2025, OpenAI, https://chat.openai.com
    map.addControl(new mapboxgl.NavigationControl());

    map.on('load', () => {
      // Default 3D Buildings Layer (Mapbox)
      map.addLayer({
        id: '3d-buildings',
        source: 'composite',
        'source-layer': 'building',
        type: 'fill-extrusion',
        paint: {
          'fill-extrusion-color': '#e5e5e5',
          'fill-extrusion-height': ['get', 'height'],
          'fill-extrusion-opacity': 0.4,
        }
      });

      // Custom Development Layer (GeoJSON)
      // load locally instead of from Mapbox for testing styles
      map.addSource('development-data', {
        type: 'geojson',
        data: 'data/Developments.geojson'
        // url: 'data/Developments.geojson'
        // url: 'mapbox://charlesaltendorf.1hqv4kmd'
      });

      map.addLayer({
        id: 'development-layer',
        type: 'fill-extrusion',
        source: 'development-data',
        // 'source-layer': 'Developments-7rhj1w',
        paint: {
          'fill-extrusion-color': '#C6011F',
          "fill-extrusion-emissive-strength": 1, //enable it to glow
          'fill-extrusion-height': 75,
          'fill-extrusion-opacity': 1,
          "fill-extrusion-vertical-gradient": true
        },
        filter: ['<=', 'Year', 2011]
      });

      // Add a new v3 light source to the map
      map.setLights([
        {
          id: "highlight-stuff",
          type: "ambient", // ambient | directional | flat
          properties: {
            color: '#222', // RGB color
            intensity: 0.1, // Intensity of the light
          }
        },
      ])



      //Text generated by (or adapted from) ChatGPT, March 13, 2025, OpenAI, https://chat.openai.com
      //Census Tract Boundary Layer
      map.addSource('census-tract-boundary', {
        type: 'vector',
        url: 'mapbox://charlesaltendorf.aumfhbtp'
      });

      map.addLayer({
        id: 'census-tract-boundary-layer',
        type: 'line',
        source: 'census-tract-boundary',
        'source-layer': 'Tract265-0rnrks', // Replace with the correct layer name if necessary
        paint: {
          'line-color': '#C6011F',
          'line-emissive-strength': 1,
          'line-width': 12
        }
      });


      const popup = new mapboxgl.Popup({
        closeButton: true, // Allow user to close manually
        closeOnClick: false // Don't close on map click
      });

      // Show popup on click (instead of hover)
      map.on('click', 'development-layer', (e) => {
        if (e.features.length > 0) {
          const feature = e.features[0].properties;
          const popupContent = `
              <div class="popup-fullscreen">
                <h2 class='title'>${feature.NAME}</h2>
                <h3 class='subtitle'>Type: ${feature.Type}</h3>
                <h3 class='subtitle'>Year: ${feature.Year}</h3>
                ${feature.Description}<br>
                <a href="${feature.Website}" target="_blank" class="popup-button">
                  <i class="fas fa-external-link-alt"></i> Visit Website
                </a>                
              </div>
              `;
          popup.setLngLat(e.lngLat).setHTML(popupContent).addTo(map);
        }
      });

    });

    // Slider to Filter Development Layer by Year
    const slider = document.getElementById('year-slider');
    const yearLabel = document.getElementById('year-label');

    slider.addEventListener('input', function () {
      const selectedYear = parseInt(slider.value);
      yearLabel.textContent = selectedYear;
      map.setFilter('development-layer', ['<=', 'Year', selectedYear]);
    });

  </script>

</body>

</html>